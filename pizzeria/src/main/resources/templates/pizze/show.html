<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity6">
<head>
    <th:block th:replace="~{/fragments/fragment :: resources}"></th:block>
    <title>Pizza dettagli</title>
</head>

<body>

<th:block th:replace="~{/fragments/navbar :: navbar('pizze')}"></th:block>

<div class="container px-4">
    <h1 class="pt-5" th:text="${pizza.nome}"></h1>
    <p th:text="${pizza.descrizione}"></p>
    <p th:text="${pizza.prezzo}"></p>

    <div th:if="${pizza.offerteList.size()>0}" class="pt-2">
        <h3>
            <span>Offerte</span>
            <a th:href="@{/offerte/create(pizzaId=${pizza.id})}" class="btn btn-primary rounded-circle"
               title="Crea nuova offerta speciale" sec:authorize="hasAuthority('ADMIN')">
                <i class="fa-solid fa-plus"></i>
            </a>
        </h3>

        <ul th:each="offerta : ${pizza.offerteList}">
            <li>Dal [[${#temporals.format(offerta.startOfferDate, 'dd/MM/yyyy')}]]
                fino al
                [[${#temporals.format(offerta.endOfferDate, 'dd/MM/yyyy')}]]
                Ã¨ attiva [[${offerta.name}]].
            </li>
            <a th:href="@{'/offerte/edit/{id}'(id=${offerta.id})}" class="btn btn-primary btn-sm"
               title="modfica offerta" sec:authorize="hasAuthority('ADMIN')">
                <i class="fa-solid fa-pen-to-square"></i>
            </a>
        </ul>




    </div>

</div>


</body>
</html>